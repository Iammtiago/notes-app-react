# Notes App (React + Supabase + Tailwind)

A minimal, production-ready structure using React (Vite), Tailwind CSS, Supabase Auth, and a `notes` table per user.

## 1) Setup

```bash
npm install
```

Create a `.env` file in project root with your Supabase project values:

```
VITE_SUPABASE_URL=your_url_here
VITE_SUPABASE_ANON_KEY=your_anon_key_here
```

Run the app:

```bash
npm run dev
```

## 2) Supabase Database

Create the `notes` table in Supabase (SQL editor):

```sql
create table if not exists public.notes (
  id bigint generated by default as identity primary key,
  user_id uuid not null references auth.users(id) on delete cascade,
  text text not null,
  created_at timestamptz not null default now(),
  updated_at timestamptz not null default now()
);

-- Keep updated_at fresh
create or replace function public.set_updated_at()
returns trigger as $$
begin
  new.updated_at = now();
  return new;
end;
$$ language plpgsql;

drop trigger if exists on_notes_updated_at on public.notes;
create trigger on_notes_updated_at
before update on public.notes
for each row execute function public.set_updated_at();
```

### Row Level Security (RLS)

Enable RLS on `notes` and add policies:

```sql
alter table public.notes enable row level security;

-- Owner can select
create policy "Select own notes" on public.notes
for select using ( auth.uid() = user_id );

-- Owner can insert
create policy "Insert own notes" on public.notes
for insert with check ( auth.uid() = user_id );

-- Owner can update
create policy "Update own notes" on public.notes
for update using ( auth.uid() = user_id );

-- Owner can delete
create policy "Delete own notes" on public.notes
for delete using ( auth.uid() = user_id );
```

## 3) Why this structure?

- **AuthContext** keeps Auth state globally and reacts to Supabase session changes.
- **NotesContext** encapsulates all note CRUD logic, so pages/components stay clean.
- **Tailwind** provides clean, responsive UI with utility classes.
- **.env** keeps secrets safe and configurable per environment.

## 4) Email/Password Validation

Email is validated with a robust regex; password requires 6+ chars. Adjust `src/utils/validation.js` as you wish.
